{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/Api.js","utils/constants.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteCardPopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","name","link","likes","card","onCardClick","onCardLike","onCardDelete","userData","useContext","isOwn","owner","_id","elementDeleteClassName","isLiked","some","i","elementLikeClassName","onClick","type","length","Main","cards","onEditProfile","onAddPlace","onEditAvatar","avatar","about","map","Footer","Date","getFullYear","ImagePopup","onClose","Boolean","JSON","stringify","tabIndex","api","config","_onError","res","ok","json","Promise","reject","status","getUserInfo","fetch","_url","method","headers","_headers","then","setUserInfo","data","body","getCards","addCard","removeCard","dataId","setAvatar","toggleLike","this","url","authorization","PopupWithForm","title","buttonText","isOpen","onSubmit","children","noValidate","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","currentUser","useEffect","e","preventDefault","id","placeholder","minLength","maxLength","required","onChange","target","value","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","setLink","DeleteCardPopup","onDeleteCard","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeleteCardPopupOpen","setIsDeleteCardPopupOpen","currentCard","setCurrentCard","selectedCard","setSelectedCard","setCurrentUser","setCards","all","cardsData","catch","err","console","log","handleUpdateUserInfo","inputUserData","methodApi","outputUserData","closeAllPopups","Provider","methodFetchLike","newCard","state","c","inputCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.aa0da8d1.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import logo from '../images/logo.svg';\r\n\r\nfunction Header() {\r\n    return(\r\n        <header className=\"header\">\r\n        <img\r\n          className=\"header__logo\"\r\n          src={logo}\r\n          alt=\"логотип\"\r\n        />\r\n    </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport React from \"react\";\r\n\r\nfunction Card({name, link, likes, card, onCardClick, onCardLike, onCardDelete}) {\r\n  const userData = React.useContext(CurrentUserContext);\r\n  const isOwn = card.owner._id === userData._id;\r\n  const elementDeleteClassName = `element__delete ${\r\n    isOwn ? \"element__delete_visible\" : \"element__delete_hidden\"\r\n  }`;\r\n\r\n  const isLiked = card.likes.some((i) => i._id === userData._id);\r\n\r\n  const elementLikeClassName = `element__like ${\r\n    isLiked && \"element__like_active\"\r\n  }`;\r\n\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <li className=\"element\">\r\n      <button\r\n        className={elementDeleteClassName}\r\n        onClick={handleDeleteClick}\r\n      ></button>\r\n      <div className=\"element__image-container\">\r\n        <img\r\n          className=\"element__image\"\r\n          src={link}\r\n          alt={name}\r\n          onClick={handleClick}\r\n        />\r\n      </div>\r\n      <h2 className=\"element__title\">{name}</h2>\r\n      <div className=\"element__like-container\">\r\n        <button\r\n          className={elementLikeClassName}\r\n          type=\"submit\"\r\n          onClick={handleLikeClick}\r\n        ></button>\r\n        <div className=\"element__like-counter\">{likes.length}</div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport Card from \"./Card.js\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Main({\r\n  cards,\r\n  onEditProfile,\r\n  onAddPlace,\r\n  onEditAvatar,\r\n  onCardClick,\r\n  onCardLike,\r\n  onCardDelete,\r\n}) {\r\n  const userData = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <img className=\"profile__avatar\" src={userData.avatar} alt=\"аватар\" />\r\n        <div className=\"profile__hidden-avatar\" onClick={onEditAvatar}></div>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__title\">{userData.name}</h1>\r\n          <button\r\n            className=\"profile__button\"\r\n            type=\"button\"\r\n            onClick={onEditProfile}\r\n          ></button>\r\n          <p className=\"profile__subtitle\">{userData.about}</p>\r\n        </div>\r\n        <button\r\n          className=\"profile__button-add\"\r\n          type=\"button\"\r\n          aria-label=\"добавить_элемент\"\r\n          onClick={onAddPlace}\r\n        ></button>\r\n      </section>\r\n\r\n      <section className=\"elements\">\r\n        <ul className=\"elements__grid-container\">\r\n          {cards.map((card) => (\r\n            <Card\r\n              key={card._id}\r\n              name={card.name}\r\n              link={card.link}\r\n              likes={card.likes}\r\n              card={card}\r\n              onCardClick={onCardClick}\r\n              onCardLike={onCardLike}\r\n              onCardDelete={onCardDelete}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\r\n    return(\r\n        <footer className=\"footer\">\r\n        <p className=\"footer__copyright\">&#169; {`${new Date().getFullYear()} Mesto Rusia`}</p>\r\n      </footer>\r\n    )\r\n}\r\n\r\nexport default Footer;","function ImagePopup({card, onClose}) {\r\n  \r\nconst isCard = Boolean(JSON.stringify(card) ==='{}');\r\nconst className = !isCard && \"popup_opened\";\r\n\r\n    return(\r\n        <div className={`popup popup_type_image ${className}`}>\r\n        <figure\r\n          className=\"popup__container popup__container-for-image\"\r\n          tabIndex=\"0\"\r\n        >\r\n          <button className=\"popup__close\" type=\"button\" onClick={onClose}></button>\r\n          <img\r\n            className=\"popup__element-image\"\r\n            src={card.link}\r\n            alt={card.name}\r\n          />\r\n          <figcaption className=\"popup__image-caption\">{card.name}</figcaption>\r\n        </figure>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default ImagePopup","import { configApi } from \"./constants\"\r\n\r\n class Api {\r\n  constructor(config) {\r\n    this._url = config.url;\r\n    this._headers = config.headers;\r\n  }\r\n\r\n  _onError = (res) => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  getUserInfo = () => {\r\n    return fetch(`${this._url}users/me`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    }).then(this._onError);\r\n  };\r\n\r\n  setUserInfo = (data) => {\r\n    return fetch(`${this._url}users/me`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(data),\r\n    }).then(this._onError);\r\n  };\r\n\r\n  getCards = () => {\r\n    return fetch(`${this._url}cards`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    }).then(this._onError);\r\n  };\r\n\r\n  addCard = (data) => {\r\n    return fetch(`${this._url}cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(data),\r\n    }).then(this._onError);\r\n  };\r\n\r\n  removeCard = (dataId) => {\r\n    return fetch(`${this._url}cards/${dataId}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._onError);\r\n  };\r\n\r\n  setUserInfo = (userData) => {\r\n    return fetch(`${this._url}users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(userData),\r\n    }).then(this._onError);\r\n  };\r\n\r\n  setAvatar = (avatar) => {\r\n    return fetch(`${this._url}users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(avatar),\r\n    }).then(this._onError);\r\n  };\r\n\r\n  toggleLike = (method, dataId) => {\r\n    return fetch(`${this._url}cards/likes/${dataId}`, {\r\n      method: method,\r\n      headers: this._headers,\r\n    }).then(this._onError);\r\n  };\r\n}\r\n\r\nconst api = new Api(configApi);\r\nexport default api;\r\n","\r\nexport const configApi = {\r\n  url: \"https://mesto.nomoreparties.co/v1/cohort-30/\",\r\n  headers: {\r\n    authorization: \"c5a5cb5f-db7e-4ac2-924a-a6deb50d8693\",\r\n    \"content-type\": \"application/json\",\r\n  },\r\n};","function PopupWithForm({\r\n  name,\r\n  title,\r\n  buttonText,\r\n  isOpen,\r\n  onClose,\r\n  onSubmit,\r\n  children,\r\n}) {\r\n  const className = isOpen && \"popup_opened\";\r\n\r\n  return (\r\n    <div className={`popup ${className}`}>\r\n      <div className=\"popup__container\" tabIndex=\"0\">\r\n        <button\r\n          className=\"popup__close\"\r\n          type=\"button\"\r\n          onClick={onClose}\r\n        ></button>\r\n        <form name={name} className=\"form\" onSubmit={onSubmit} noValidate>\r\n          <fieldset className=\"form__input-container\">\r\n            <h2 className=\"form__title\">{title}</h2>\r\n            <>{children}</>\r\n          </fieldset>\r\n          <button className=\"form__button-save\" type=\"submit\">\r\n            {buttonText}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\r\n  const [name, setName] = React.useState(\"\");\r\n  const [description, setDescription] = React.useState(\"\");\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [isOpen, currentUser]);\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleAboutChange(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    }, \"setUserInfo\");\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit-profile\"\r\n      title=\"Редактировать профиль\"\r\n      buttonText=\"Сохранить\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"form__field\">\r\n        <input\r\n          name=\"name\"\r\n          type=\"text\"\r\n          className=\"form__input form__input_type_name\"\r\n          id=\"profile-input-name\"\r\n          placeholder=\"Введите имя\"\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          required\r\n          onChange={handleNameChange}\r\n          value={name || \"\"}\r\n        />\r\n        <span className=\"form__input-error profile-input-name-error\"></span>\r\n      </label>\r\n      <label className=\"form__field\">\r\n        <input\r\n          name=\"about\"\r\n          type=\"text\"\r\n          className=\"form__input form__input_type_profession\"\r\n          id=\"profile-input-profession\"\r\n          placeholder=\"Коротко осебе\"\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          required\r\n          onChange={handleAboutChange}\r\n          value={description || \"\"}\r\n        />\r\n        <span className=\"form__input-error profile-input-profession-error\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\r\n    let avatarRef = React.useRef(null); \r\n\r\n    React.useEffect(() => {\r\n      avatarRef.current.value = null;\r\n   }, [isOpen]);\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n      \r\n        onUpdateAvatar({\r\n          avatar: avatarRef.current.value\r\n        }, \"setAvatar\");\r\n      } \r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit-avatar\"\r\n      title=\"Обновить аватар\"\r\n      buttonText=\"Сохранить\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"form__field\">\r\n        <input\r\n          ref={avatarRef}\r\n          name=\"avatar\"\r\n          type=\"url\"\r\n          className=\"form__input form__input_type_avatar\"\r\n          placeholder=\"Ссылка на аватар\"\r\n          id=\"profile-input-avatar\"\r\n          required\r\n        />\r\n        <span className=\"form__input-error profile-input-avatar-error\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup({onAddPlace, isOpen, onClose}) {\r\n    const [name, setName] = React.useState(\"\");\r\n    const [link, setLink] = React.useState(\"\");\r\n    \r\n    function handleNameChange(e) {\r\n      setName(e.target.value);\r\n    }\r\n\r\n    function handleLinkChange(e) {\r\n      setLink(e.target.value);\r\n    }\r\n\r\n    function handleAddPlaceSubmit(e) {\r\n        e.preventDefault();\r\n        onAddPlace({name, link});\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        setName(\"\");\r\n        setLink(\"\"); \r\n     }, [isOpen]);\r\n\r\n    return(\r\n        <PopupWithForm\r\n            name=\"creat-element\"\r\n            title=\"Новое место\"\r\n            buttonText=\"Сохранить\"\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleAddPlaceSubmit}\r\n          >\r\n            <label className=\"form__field\">\r\n              <input\r\n                name=\"name\"\r\n                type=\"text\"\r\n                className=\"form__input form__input_type_place\"\r\n                placeholder=\"Название\"\r\n                id=\"input-place\"\r\n                minLength=\"2\"\r\n                maxLength=\"30\"\r\n                required\r\n                onChange={handleNameChange}\r\n                value={name}\r\n              />\r\n              <span className=\"form__input-error input-place-error\"></span>\r\n            </label>\r\n            <label className=\"form__field\">\r\n              <input\r\n                name=\"link\"\r\n                type=\"url\"\r\n                className=\"form__input form__input_type_place-link\"\r\n                placeholder=\"Ссылка на картинку\"\r\n                id=\"input-place-link\"\r\n                required\r\n                onChange={handleLinkChange}\r\n                value={link}\r\n              />\r\n              <span className=\"form__input-error input-place-link-error\"></span>\r\n            </label>\r\n          </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction DeleteCardPopup({ isOpen, onClose, onDeleteCard }) {\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onDeleteCard();\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"delete-element\"\r\n      title=\"Вы уверены?\"\r\n      buttonText=\"Да\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    ></PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default DeleteCardPopup;\r\n","import Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport api from \"../utils/Api.js\";\r\nimport React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport DeleteCardPopup from \"./DeleteCardPopup\";\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] =\r\n    React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] =\r\n    React.useState(false);\r\n\r\n  const [isDeleteCardPopupOpen, setIsDeleteCardPopupOpen] =\r\n    React.useState(false);\r\n  const [currentCard, setCurrentCard] = React.useState({});\r\n\r\n  const [selectedCard, setSelectedCard] = React.useState({});\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    Promise.all([api.getUserInfo(), api.getCards()])\r\n      .then(([userData, cardsData]) => {\r\n        setCurrentUser(userData);\r\n        setCards(cardsData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  const handleCardLike = (card) => {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n    let methodFetchLike = isLiked ? \"DELETE\" : \"PUT\";\r\n    api\r\n      .toggleLike(methodFetchLike, card._id, !isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) =>\r\n          state.map((c) => (c._id === card._id ? newCard : c))\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const handleCardDelete = () => {\r\n    api\r\n      .removeCard(currentCard._id)\r\n      .then(() => {\r\n        setCards((state) =>\r\n          state.filter((c) => c._id !== currentCard._id && c)\r\n        );\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const handleUpdateUserInfo = (inputUserData, methodApi) => {\r\n    api[methodApi](inputUserData)\r\n      .then((outputUserData) => {\r\n        setCurrentUser(outputUserData);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const handleSubmitAddPlace = (inputCard) => {\r\n    api\r\n      .addCard(inputCard)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const handleCardClick = (card) => {\r\n    setSelectedCard(card);\r\n  };\r\n\r\n  const handleEditProfileClick = () => {\r\n    setIsEditProfilePopupOpen(true);\r\n  };\r\n\r\n  const handleAddPlaceClick = () => {\r\n    setIsAddPlacePopupOpen(true);\r\n  };\r\n\r\n  const handleEditAvatarClick = () => {\r\n    setIsEditAvatarPopupOpen(true);\r\n  };\r\n\r\n  const handleDeleteCardClick = (card) => {\r\n    setCurrentCard(card);\r\n    setIsDeleteCardPopupOpen(true);\r\n  };\r\n\r\n  const closeAllPopups = () => {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsDeleteCardPopupOpen(false);\r\n    setSelectedCard({});\r\n  };\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"common\">\r\n        <div className=\"page\">\r\n          <Header />\r\n\r\n          <Main\r\n            onEditProfile={handleEditProfileClick}\r\n            onAddPlace={handleAddPlaceClick}\r\n            onEditAvatar={handleEditAvatarClick}\r\n            onCardClick={handleCardClick}\r\n            cards={cards}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleDeleteCardClick}\r\n          />\r\n\r\n          <Footer />\r\n\r\n          <EditProfilePopup\r\n            isOpen={isEditProfilePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateUser={handleUpdateUserInfo}\r\n          />\r\n\r\n          <AddPlacePopup\r\n            isOpen={isAddPlacePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onAddPlace={handleSubmitAddPlace}\r\n          />\r\n\r\n          <EditAvatarPopup\r\n            isOpen={isEditAvatarPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateAvatar={handleUpdateUserInfo}\r\n          />\r\n\r\n          <DeleteCardPopup\r\n            isOpen={isDeleteCardPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onDeleteCard={handleCardDelete}\r\n          />\r\n\r\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n        </div>\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}